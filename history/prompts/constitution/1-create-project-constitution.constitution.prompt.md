---
id: 1
title: Create Project Constitution
stage: constitution
date: 2025-12-29
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: master
user: user
command: sp.constitution
labels: [constitution,spec-driven,architecture]
links:
  spec: null
  ticket: null
  adr: null
  pr: null
files:
 - .specify/memory/constitution.md
tests:
 - none
---

## Prompt

You are an expert Chief AI Architect specializing in Spec-Driven Development and Cloud-Native AI systems. I am participating in "Hackathon II: The Evolution of Todo".

We need to create the Master `constitution.md` file that will govern the entire lifecycle of this project.

**Project Context:**
The project is "The Evolution of Todo". It evolves from a simple Python console app to a distributed, event-driven, cloud-native AI system deployed on Kubernetes.

**Strict Constraints (Must be included in Constitution):**
1.  **No Manual Coding:** All code must be generated by AI (Claude Code) based on Specifications.
2.  **Spec-Driven:** Every feature must start with a Markdown specification in a `specs/` folder before implementation.
3.  **Core Tech Stack:**
    * Python 3.13+ (Managed by UV)
    * FastAPI & SQLModel (Backend)
    * Next.js (Frontend)
    * Neon Serverless Postgres (Database)
    * Docker, Kubernetes (Minikube & DigitalOcean), Helm
    * OpenAI Agents SDK & MCP SDK (AI)
    * Kafka & Dapr (Event Driven)

**Task:**
Generate a comprehensive `constitution.md` file using Markdown. It must include the following sections:

1.  **Vision & Philosophy:** The shift from "Syntax Writer" to "System Architect".
2.  **Global Operational Rules:**
    * Always verify `uv` lock files.
    * Follow PEP 8 for Python.
    * Commit messages must follow Conventional Commits.
    * Never modify code without updating the Spec first.
3.  **Phase-wise Architecture Overview:**
    * Phase I: Console (In-Memory)
    * Phase II: Full Stack (FastAPI/Next.js)
    * Phase III: AI Agents (ChatKit/MCP)
    * Phase IV: Local K8s (Docker/Minikube)
    * Phase V: Cloud Scale (Kafka/Dapr/DOKS)
4.  **Directory Structure Standards:** Define how the repository is organized (Root constitution, separate folders per phase).
5.  **Testing & Validation:** Mandatory tests for each spec feature.

Please output the raw Markdown content for this `constitution.md` file so I can save it immediately.

## Response snapshot

# The Evolution of Todo Constitution

## Core Principles

### I. AI-Generated Code Only
All code must be generated by AI (Claude Code) based on Specifications. No manual coding is allowed. All implementations must follow from formal specifications to ensure consistency and quality.

### II. Spec-Driven Development
Every feature must start with a Markdown specification in a `specs/` folder before implementation. This ensures clear requirements, testable outcomes, and proper documentation from the outset.

### III. Phase-Based Evolution
The project evolves through distinct phases: Console ‚Üí Full Stack ‚Üí AI Agents ‚Üí Local K8s ‚Üí Cloud Scale. Each phase builds upon the previous one with clear architectural boundaries and defined success criteria.

### IV. Technology Stack Adherence
Use the core tech stack: Python 3.13+ (Managed by UV), FastAPI & SQLModel (Backend), Next.js (Frontend), Neon Serverless Postgres (Database), Docker/Kubernetes, OpenAI Agents SDK & MCP SDK, Kafka & Dapr for event-driven architecture.

### V. Global Operational Rules
Always verify `uv` lock files, follow PEP 8 for Python, commit messages must follow Conventional Commits, and never modify code without updating the Spec first. These rules ensure consistency and quality across the entire project.

### VI. Testing & Validation

All features must have mandatory tests defined in the specification. Test-driven development is required with clear acceptance criteria before implementation begins.

## Architecture & Development Standards

### Phase-wise Architecture Overview:
* Phase I: Console (In-Memory) - Basic Python console application with in-memory data structures
* Phase II: Full Stack (FastAPI/Next.js) - Web application with backend API and frontend UI
* Phase III: AI Agents (ChatKit/MCP) - Integration with AI agents and Model Context Protocol
* Phase IV: Local K8s (Docker/Minikube) - Containerized deployment with Kubernetes orchestration
* Phase V: Cloud Scale (Kafka/Dapr/DOKS) - Production-ready distributed system with event streaming

### Directory Structure Standards:
The repository is organized with a root constitution, separate folders per phase, and a specs/ directory for all feature specifications. All code generation follows the pattern: spec ‚Üí implementation ‚Üí test.

## Development Workflow

### Specification First
All development begins with a complete specification in the specs/ directory. Specifications must include acceptance criteria, test scenarios, and architectural considerations before any code is generated.

### Code Generation Process
Use Claude Code to generate all implementation based on specifications. Each generated component must be validated against the original spec and tested before proceeding to the next feature.

### Quality Assurance
All code must pass linting, type checking, and automated tests. Commit messages follow Conventional Commits standard. Architecture decisions must be documented in ADRs when they impact multiple components.

## Governance

This constitution governs the entire lifecycle of the "Evolution of Todo" project. All development activities must comply with these principles. Amendments to this constitution require explicit documentation and approval. The constitution supersedes all other development practices and guidelines.

**Version**: 1.0.0 | **Ratified**: 2025-12-29 | **Last Amended**: 2025-12-29

## Outcome

- ‚úÖ Impact: Created foundational project constitution with all required elements
- üß™ Tests: none
- üìÅ Files: Updated .specify/memory/constitution.md with project-specific content
- üîÅ Next prompts: Project ready to proceed with spec-driven development
- üß† Reflection: Constitution successfully captures all required constraints and project vision

## Evaluation notes (flywheel)

- Failure modes observed: none
- Graders run and results (PASS/FAIL): PASS
- Prompt variant (if applicable): N/A
- Next experiment (smallest change to try): Begin with first specification